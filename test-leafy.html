<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>test</title>
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
<script type="text/javascript" src="lib/phaser2.4.4.js"></script>
<style type="text/css">
body {
  margin: 1em;
  background: #F4F4F4;
  background: #eee;
  text-align: center;
}
canvas {
  width: 300px !important;
  height: 300px !important;
  margin: 1em auto;
}
</style>
</head>
<body>


<button onclick="game.leafy.animations.play('rest');">rest</button>
<button onclick="game.leafy.animations.play('walk');">walk</button>
<button onclick="game.leafy.animations.play('jump');">jump</button>
<button onclick="game.leafy.animations.play('sad');">sad</button>
<button onclick="game.leafy.animations.play('mad');">mad</button>
<button onclick="game.leafy.animations.play('yay');">yay</button>


<script type="text/javascript">
var game = new Phaser.Game( (600), (600), Phaser.CANVAS, 'owl-game', { preload: preload, create: create, update: update, render: render } );

function preload() {
  game.load.spritesheet('leafy', 'img/4x-red.png', 256, 256);
}

function create() {
  cursors = game.input.keyboard.createCursorKeys();
  game.stage.backgroundColor = 0xF4F4F4;
  game.leafy = game.add.sprite(0,0,'leafy');

  // center
  game.leafy.anchor.setTo(.5,.5);
  game.leafy.x=game.width/2;
  game.leafy.y=game.height/2;

  // sprinkle in animations
  game.leafy.animations.add('yay', [10], 0, true);
  game.leafy.animations.add('turn', [7], 0, true);
  game.leafy.animations.add('walk', [0, 1, 2, 3, 4, 5, 6], 10, true);
  game.leafy.animations.add('jump', [3], 0, true);
  game.leafy.animations.add('sad', [8], 0, true);
  game.leafy.animations.add('mad', [9], 0, true);
  game.leafy.animations.add('rest', [7], 0, true);

  // trigger
  game.leafy.animations.play('rest');
}

function update() {
  if (cursors.left.isDown) {
    game.leafy.scale.x = -1; //flipped
    game.leafy.animations.play('walk');
  }
  if (cursors.right.isDown) {
    game.leafy.scale.x = 1; //flipped
    game.leafy.animations.play('walk');
  }
  if (cursors.up.isDown) {
    game.leafy.animations.play('jump');
  }
}

function render() {
}
</script>

</body>
</html>
